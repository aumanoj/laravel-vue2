

<template>
  <div class="left-sidenav">
    <div class="main-icon-menu" style="background-color: #0b1125">
      <nav class="nav">
        <!--<a href="#MetricaDashboard" class="nav-link leftmenu-sm-item bg-primary shadow-primary" data-toggle="" data-placement="right" title="" data-original-title="Dashboard">
                            <svg class="nav-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
                                <path d="M194 285l-152 0c-17 0-31 14-31 32l0 119c0 18 14 31 31 31l152 0c17 0 31-13 31-31l0-119c0-18-14-32-31-32z m-138 45l125 0 0 93-125 0z m414-45l-152 0c-17 0-31 14-31 32l0 119c0 18 14 31 31 31l152 0c17 0 31-13 31-31l0-119c0-18-14-32-31-32z m-139 45l125 0 0 93-125 0z m-137-285l-152 0c-17 0-31 13-31 31l0 119c0 18 14 32 31 32l152 0c17 0 31-14 31-32l0-119c0-18-14-31-31-31z m-138 44l125 0 0 93-125 0z m414-44l-152 0c-17 0-31 13-31 31l0 119c0 18 14 32 31 32l152 0c17 0 31-14 31-32l0-119c0-18-14-31-31-31z m-139 44l125 0 0 93-125 0z"/>
                                
                            </svg>
                            <span  style="color:#fff;top:1px;position:absolute;left:35px;font-size:15px;lign-height:18px;">DASHBOARD</span>
                        </a>end MetricaDashboard-->

        <a
          href="#MetricaFranchise"
          class="nav-link leftmenu-sm-item bg-success shadow-pink"
          data-toggle=""
          data-placement="top"
          title=""
          data-original-title="Franchise"
        >
          <svg
            class="nav-svg"
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 512 512"
          >
            <path
              class="svg-primary"
              d="M256 32C132.288 32 32 132.288 32 256s100.288 224 224 224 224-100.288 224-224S379.712 32 256 32zm135.765 359.765C355.5 428.028 307.285 448 256 448s-99.5-19.972-135.765-56.235C83.972 355.5 64 307.285 64 256s19.972-99.5 56.235-135.765C156.5 83.972 204.715 64 256 64s99.5 19.972 135.765 56.235C428.028 156.5 448 204.715 448 256s-19.972 99.5-56.235 135.765z"
            />
            <path
              d="M200.043 106.067c-40.631 15.171-73.434 46.382-90.717 85.933H256l-55.957-85.933zM412.797 288A160.723 160.723 0 0 0 416 256c0-36.624-12.314-70.367-33.016-97.334L311 288h101.797zM359.973 134.395C332.007 110.461 295.694 96 256 96c-7.966 0-15.794.591-23.448 1.715L310.852 224l49.121-89.605zM99.204 224A160.65 160.65 0 0 0 96 256c0 36.639 12.324 70.394 33.041 97.366L201 224H99.204zM311.959 405.932c40.631-15.171 73.433-46.382 90.715-85.932H256l55.959 85.932zM152.046 377.621C180.009 401.545 216.314 416 256 416c7.969 0 15.799-.592 23.456-1.716L201.164 288l-49.118 89.621z"
            />
          </svg>
          <span
            style="
              color: #fff;
              top: 1px;
              position: absolute;
              left: 35px;
              font-size: 15px;
              lign-height: 18px;
            "
            >Admin</span
          > </a
        ><!--end MetricaFranchise-->

        <a
          href="#MetricaMaster"
          class="nav-link leftmenu-sm-item bg-pink shadow-success"
          data-toggle=""
          data-placement="top"
          title=""
          data-original-title="Master"
        >
          <svg
            class="nav-svg"
            version="1.1"
            id="Layer_1"
            xmlns="http://www.w3.org/2000/svg"
            xmlns:xlink="http://www.w3.org/1999/xlink"
            x="0px"
            y="0px"
            viewBox="0 0 512 512"
            style="enable-background: new 0 0 512 512"
            xml:space="preserve"
          >
            <g>
                <ellipse class="svg-primary" transform="matrix(0.9998 -1.842767e-02 1.842767e-02 0.9998 -7.7858 3.0205)" cx="160" cy="424" rx="24" ry="24"/>
                <ellipse class="svg-primary" transform="matrix(2.381651e-02 -0.9997 0.9997 2.381651e-02 -48.5107 798.282)" cx="384.5" cy="424" rx="24" ry="24"/>
                <path d="M463.8,132.2c-0.7-2.4-2.8-4-5.2-4.2L132.9,96.5c-2.8-0.3-6.2-2.1-7.5-4.7c-3.8-7.1-6.2-11.1-12.2-18.6
                  c-7.7-9.4-22.2-9.1-48.8-9.3c-9-0.1-16.3,5.2-16.3,14.1c0,8.7,6.9,14.1,15.6,14.1c8.7,0,21.3,0.5,26,1.9c4.7,1.4,8.5,9.1,9.9,15.8
                  c0,0.1,0,0.2,0.1,0.3c0.2,1.2,2,10.2,2,10.3l40,211.6c2.4,14.5,7.3,26.5,14.5,35.7c8.4,10.8,19.5,16.2,32.9,16.2h236.6
                  c7.6,0,14.1-5.8,14.4-13.4c0.4-8-6-14.6-14-14.6H189h-0.1c-2,0-4.9,0-8.3-2.8c-3.5-3-8.3-9.9-11.5-26l-4.3-23.7
                  c0-0.3,0.1-0.5,0.4-0.6l277.7-47c2.6-0.4,4.6-2.5,4.9-5.2l16-115.8C464,134,464,133.1,463.8,132.2z"/>
              </g>
          </svg>
          <span
            style="
              color: #fff;
              top: 1px;
              position: absolute;
              left: 35px;
              font-size: 15px;
              lign-height: 18px;
            "
            >Orders</span
          > </a
        ><!--end MetricaMaster-->

        <a href="#MetricaProduct" class="nav-link leftmenu-sm-item bg-purple shadow-purple" data-toggle="" data-placement="top" title="" data-original-title="Product">
            <svg class="nav-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
              <path d="M70.7 164.5l169.2 81.7c4.4 2.1 10.3 3.2 16.1 3.2s11.7-1.1 16.1-3.2l169.2-81.7c8.9-4.3 8.9-11.3 0-15.6L272.1 67.2c-4.4-2.1-10.3-3.2-16.1-3.2s-11.7 1.1-16.1 3.2L70.7 148.9c-8.9 4.3-8.9 11.3 0 15.6z"/>
              <path class="svg-primary" d="M441.3 248.2s-30.9-14.9-35-16.9-5.2-1.9-9.5.1S272 291.6 272 291.6c-4.5 2.1-10.3 3.2-16.1 3.2s-11.7-1.1-16.1-3.2c0 0-117.3-56.6-122.8-59.3-6-2.9-7.7-2.9-13.1-.3l-33.4 16.1c-8.9 4.3-8.9 11.3 0 15.6l169.2 81.7c4.4 2.1 10.3 3.2 16.1 3.2s11.7-1.1 16.1-3.2l169.2-81.7c9.1-4.2 9.1-11.2.2-15.5z"/>
              <path d="M441.3 347.5s-30.9-14.9-35-16.9-5.2-1.9-9.5.1S272.1 391 272.1 391c-4.5 2.1-10.3 3.2-16.1 3.2s-11.7-1.1-16.1-3.2c0 0-117.3-56.6-122.8-59.3-6-2.9-7.7-2.9-13.1-.3l-33.4 16.1c-8.9 4.3-8.9 11.3 0 15.6l169.2 81.7c4.4 2.2 10.3 3.2 16.1 3.2s11.7-1.1 16.1-3.2l169.2-81.7c9-4.3 9-11.3.1-15.6z"/>
            </svg>
            <span  style="color:#fff;top:1px;position:absolute;left:35px;font-size:15px;lign-height:18px;">Pages</span>
        </a> <!--end MetricaProduct-->

        <!--<a href="#MetricaDiscount" class="nav-link leftmenu-sm-item bg-warning shadow-warning" data-toggle="" data-placement="top" title="" data-original-title="Discount">
                            <svg class="nav-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
                                <path class="svg-primary" d="M151 277l126-126c5-5 12-7 19-7 6 0 13 2 18 7l47 47c5 5 7 11 7 18 0 7-2 14-7 19l-126 126c-5 5-11 7-19 7-6 0-13-2-18-7l-47-47c-10-10-10-27 0-37z m65 55l116-116-36-36-116 116z m289-129l-302 302c-9 9-23 9-32 0l-42-42c-6-6-8-16-5-24 6-15 2-32-9-43-11-11-28-14-43-9-8 4-17 1-24-5l-42-42c-4-4-6-10-6-16 0-6 2-11 7-15l302-302c4-5 10-7 15-7 7 0 12 2 16 7l42 42c6 6 9 16 5 24-6 15-2 32 9 43 11 11 28 14 43 9 8-4 18-1 24 5l42 42c9 9 9 23 0 31z m-64-33c-28 6-56-2-76-23-21-20-29-49-24-76l-17-18-270 271 17 18c28-6 56 2 76 23 21 20 29 49 24 76l17 18 271-271z"/>
                            </svg>
                            <span  style="color:#fff;top:1px;position:absolute;left:35px;font-size:15px;lign-height:18px;">DISCOUNTS</span>
                        </a>end MetricaDiscount-->

        <!--<a href="#MetricaSettings" class="nav-link leftmenu-sm-item bg-secondary shadow-secondary" data-toggle="" data-placement="top" title="" data-original-title="Settings">
                            <svg class="nav-svg" version="1.1" id="Layer_3" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                            viewBox="0 0 512 512" style="enable-background:new 0 0 512 512;" xml:space="preserve">
                                <g>
                                    <g>
                                        <path  d="M256 149c-59 0-107 47-107 107 0 59 47 107 107 107 59 0 107-47 107-107 0-59-48-107-107-107z m0 175c-37 0-68-31-68-68 0-37 31-68 68-68 37 0 68 31 68 68 0 37-31 68-68 68z m0-324l-3 0c-19 0-36 2-37 2-9 1-16 8-17 17l-6 40c-12 4-24 9-35 15l-31-24c-7-5-17-5-24 0-1 1-14 11-28 25l-2 2c-14 14-24 27-25 28-5 7-5 16 0 24l25 32c-6 11-11 23-15 35l-39 6c-8 1-15 8-16 17-1 1-3 18-3 37l0 3c0 19 2 36 2 37 1 9 8 16 17 17l40 6c4 12 9 24 15 35l-24 31c-5 7-5 17 0 24 1 1 11 14 25 28l2 2c14 14 27 24 28 25 7 5 16 5 24 0l32-25c11 6 23 11 35 15l6 39c1 8 8 15 17 16 1 1 18 3 37 3l3 0c19 0 36-2 37-2 9-1 16-8 17-17l6-40c12-4 24-9 35-15l31 24c7 5 17 5 24 0 1-1 14-11 28-25l2-2c14-14 24-27 25-28 5-7 5-16 0-24l-24-32c6-11 10-23 14-35l39-6c9-1 16-8 17-17 0-1 2-18 2-38l0-2c0-20-2-37-2-38-1-9-8-15-17-17l-40-5c-4-13-9-24-15-36l24-31c5-7 5-17 0-24-1-1-11-14-25-28l-2-2c-14-14-27-24-28-25-7-5-16-5-24 0l-32 25c-11-6-23-10-35-14l-6-39c-1-9-8-16-17-17-1 0-18-2-37-2z m-20 40c5 0 11 0 17 0l3 0c6 0 12 0 17 0l5 37c1 8 7 14 15 16 18 4 34 11 49 21 5 2 10 3 15 2 3-1 6-2 8-4l30-22c3 3 8 7 12 11l3 3c4 4 8 8 11 12l-22 30c-5 6-5 15-1 22 9 15 16 31 20 47 2 9 8 15 17 17l37 5c0 5 0 11 0 17l0 2c0 6 0 12 0 17l-37 5c-8 1-14 7-16 15-4 18-11 34-20 49-1 1-2 2-2 4-2 6-1 14 3 19l22 30c-3 3-7 8-11 12l-3 3c-4 4-8 8-12 11l-30-22c-7-5-17-5-23 0-15 9-31 16-47 20-8 2-14 8-16 17l-5 37c-5 1-11 1-17 1l-2 0c-6 0-12 0-17-1l-5-38c-1-9-8-15-17-16-17-4-33-11-47-20-5-3-10-3-15-2-3 0-6 2-8 4l-29 22c-4-3-8-7-13-12l-2-2c-4-4-8-9-12-13l23-29c5-7 5-15 1-23-1 0-1-1-1-1-9-15-16-31-20-47-2-8-8-14-17-16l-37-5c0-5 0-11 0-17l0-2c0-6 0-12 0-17l37-5c9-1 15-8 16-17 0 0 0-1 0-1 4-16 11-32 20-46 3-5 4-11 2-17-1-2-3-4-4-7l-22-29c3-3 7-8 12-12l2-3c4-4 9-8 13-11l29 22c7 6 18 5 25-1 14-8 30-15 46-19 8-2 14-8 15-17z"/>
                                    </g>
                                    
                                </g>
                            </svg>
                            <span  style="color:#fff;top:1px;position:absolute;left:35px;font-size:15px;lign-height:18px;">SETTINGS</span>
                        </a>end MetricaCRM-->
      </nav>
      <!--end nav-->
    </div>
    <!--end main-icon-menu-->
    <SubMenuComponent />
  </div>
  <!-- end left-sidenav-main-menu-->
</template>

<script>
import SubMenuComponent from "./SubMenuComponent.vue";

export default {
  components: {
    SubMenuComponent,
  },
  mounted() {
    (function ($) {

    'use strict';
    
    // function initSlimscroll() {
    //     $('.slimscroll').slimscroll({
    //         height: 'auto',
    //         position: 'right',
    //         size: "7px",
    //         color: '#e0e5f1',
    //         opacity: 1,
    //         wheelStep: 5,
    //         touchScrollStep: 50
    //     });
    // }

   
    // function initMetisMenu() {
    //     //metis menu
    //     $("#main_menu_side_nav").metisMenu();
    // }

    function initLeftMenuCollapse() {
        // Left menu collapse
        $('.button-menu-mobile').on('click', function (event) {
            event.preventDefault();
            $("body").toggleClass("enlarge-menu");
            // initSlimscroll();
        });
    }

    function initEnlarge() {
        if ($(window).width() < 1025) {
            $('body').addClass('enlarge-menu');
        } else {
            if ($('body').data('keep-enlarged') != true)
                $('body').removeClass('enlarge-menu');
        }
    }

   

    function initSerach() {
        $('.search-btn').on('click', function () {
            var targetId = $(this).data('target');
            var $searchBar;
            if (targetId) {
                $searchBar = $(targetId);
                $searchBar.toggleClass('open');
            }
        });
    }


    function initMainIconMenu() {
        $('.main-icon-menu .leftmenu-sm-item').on('click', function(e){
            e.preventDefault();
            $(this).addClass('active');
            $(this).siblings().removeClass('active');
            $('.main-menu-inner').addClass('active');
            var targ = $(this).attr('href');
            $(targ).addClass('active');
            $(targ).siblings().removeClass('active');
        });
    }

    function initTooltipPlugin(){
        $.fn.tooltip && $('[data-toggle="tooltip"]').tooltip()
        $('[data-toggle="tooltip-custom"]').tooltip({
            template: '<div class="tooltip tooltip-custom" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>'
        });
    }
    

    function initActiveMenu() {
        // === following js will activate the menu in left side bar based on url ====
        $(".left-sidenav a").each(function () {
            var pageUrl = window.location.href.split(/[?#]/)[0];
            if (this.href == pageUrl) {
                $(this).addClass("active");
                $(this).parent().parent().addClass("in");
                $(this).parent().parent().addClass("mm-show");
                $(this).parent().parent().prev().addClass("active");
                $(this).parent().parent().parent().addClass("active");
                $(this).parent().parent().parent().addClass("mm-active");
                $(this).parent().parent().parent().parent().addClass("in");  
                $(this).parent().parent().parent().parent().parent().addClass("active");  
                $(this).parent().parent().parent().parent().parent().parent().addClass("active");              
                var menu =  $(this).closest('.main-icon-menu-pane').attr('id');
                $("a[href='#"+menu+"']").addClass('active');
                
            }
        });
    }

    

    function init() {
        // initSlimscroll();
        // initMetisMenu();
        initLeftMenuCollapse();
        initEnlarge();
        initSerach();
        initMainIconMenu();
        initTooltipPlugin();
        initActiveMenu();
        Waves.init();
    }

    init();

})(jQuery)
  },
};
</script>
